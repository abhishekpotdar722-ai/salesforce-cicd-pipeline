name: Salesforce CI/CD Listener

on:
  repository_dispatch:
    types: [salesforce_deploy]

jobs:
  receive-trigger:
    runs-on: ubuntu-latest

    steps:
      - name: Print Trigger Details
        run: |
          echo "Triggered from repository: ${{ github.event.client_payload.source_repo }}"
          echo "Branch: ${{ github.event.client_payload.branch }}"
          echo "Commit ID: ${{ github.event.client_payload.commit_id }}"

      - name: Checkout Pipeline Repo
        uses: actions/checkout@v4

      - name: Confirm Trigger Received
        run: echo "Repository Dispatch Event Received Successfully ðŸš€"
